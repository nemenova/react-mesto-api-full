{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';function checkResponse(res){if(res.status===200){return res.json();}return Promise.reject(\"\".concat(res.status));}export var register=function register(password,email){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(function(response){checkResponse(response);}).then(function(res){return res;});};export var authorize=function authorize(password,email){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(function(response){return checkResponse(response);}).then(function(data){console.log(data);localStorage.setItem('token',data.token);return data;});};export var getContent=function getContent(){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){return checkResponse(res);}).then(function(data){return data;});};","map":{"version":3,"sources":["/Users/victoria/Documents/coding/react-mesto-auth/src/utils/Auth.js"],"names":["BASE_URL","checkResponse","res","status","json","Promise","reject","register","password","email","fetch","method","headers","body","JSON","stringify","then","response","authorize","data","console","log","localStorage","setItem","token","getContent","getItem"],"mappings":"AAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,+BAAjB,CAEP,QAASC,CAAAA,aAAT,CAAuBC,GAAvB,CAA4B,CACxB,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpB,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CACD,MAAOC,CAAAA,OAAO,CAACC,MAAR,WAAkBJ,GAAG,CAACC,MAAtB,EAAP,CACH,CAED,MAAO,IAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAWC,KAAX,CAAqB,CACzC,MAAOC,CAAAA,KAAK,WAAIV,QAAJ,YAAuB,CAC/BW,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFsB,CAM/BC,IAAI,CACAC,IAAI,CAACC,SAAL,CAAe,CAAEP,QAAQ,CAARA,QAAF,CAAYC,KAAK,CAALA,KAAZ,CAAf,CAP2B,CAAvB,CAAL,CASFO,IATE,CASG,SAACC,QAAD,CAAc,CAChBhB,aAAa,CAACgB,QAAD,CAAb,CACH,CAXE,EAYFD,IAZE,CAYG,SAACd,GAAD,CAAS,CACX,MAAOA,CAAAA,GAAP,CACH,CAdE,CAAP,CAeH,CAhBM,CAkBP,MAAO,IAAMgB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACV,QAAD,CAAWC,KAAX,CAAqB,CAC1C,MAAOC,CAAAA,KAAK,WAAIV,QAAJ,YAAuB,CAC/BW,MAAM,CAAE,MADuB,CAE/BC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFsB,CAK/BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEP,QAAQ,CAARA,QAAF,CAAYC,KAAK,CAALA,KAAZ,CAAf,CALyB,CAAvB,CAAL,CAOFO,IAPE,CAOI,SAAAC,QAAQ,QAAIhB,CAAAA,aAAa,CAACgB,QAAD,CAAjB,EAPZ,EAQFD,IARE,CAQG,SAACG,IAAD,CAAU,CACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,IAAI,CAACK,KAAnC,EACA,MAAOL,CAAAA,IAAP,CACH,CAZE,CAAP,CAaH,CAdM,CAgBP,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC5B,MAAOf,CAAAA,KAAK,WAAIV,QAAJ,cAAyB,CACjCW,MAAM,CAAE,KADyB,CAEjCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BU,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA3B,CAFK,CAFwB,CAAzB,CAAL,CAOFV,IAPE,CAOG,SAAAd,GAAG,QAAID,CAAAA,aAAa,CAACC,GAAD,CAAjB,EAPN,EAQFc,IARE,CAQG,SAAAG,IAAI,QAAIA,CAAAA,IAAJ,EARP,CAAP,CASH,CAVM","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction checkResponse(res) {\n    if (res.status === 200) {\n        return res.json();\n    }\n    return Promise.reject(`${res.status}`);\n}\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body:\n            JSON.stringify({ password, email })\n    })\n        .then((response) => {\n            checkResponse(response);\n        })\n        .then((res) => {\n            return res;\n        })\n};\n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ password, email })\n    })\n        .then((response => checkResponse(response)))\n        .then((data) => {\n            console.log(data)\n            localStorage.setItem('token', data.token);\n            return data;\n        })\n};\n\nexport const getContent = () => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        }\n    })\n        .then(res => checkResponse(res))\n        .then(data => data)\n} "]},"metadata":{},"sourceType":"module"}