{"ast":null,"code":"import _classCallCheck from\"/Users/victoria/Documents/coding/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/victoria/Documents/coding/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._address=options.baseUrl;this._token=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\".concat(res.status));}},{key:\"getCards\",value:function getCards(){return fetch(\"\".concat(this._address,\"/cards\"),{headers:this._token}).then(this._checkResponse);}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._address,\"/users/me\"),{headers:this._token}).then(this._checkResponse);}},{key:\"changeUserInfo\",value:function changeUserInfo(user){return fetch(\"\".concat(this._address,\"/users/me\"),{method:'PATCH',headers:this._token,body:JSON.stringify({name:user.name,about:user.about})}).then(this._checkResponse);}},{key:\"addNewCard\",value:function addNewCard(card){return fetch(\"\".concat(this._address,\"/cards\"),{method:'POST',headers:this._token,body:JSON.stringify({name:card.name,link:card.link})}).then(this._checkResponse);}},{key:\"changeProfilePhoto\",value:function changeProfilePhoto(data){return fetch(\"\".concat(this._address,\"/users/me/avatar\"),{method:'PATCH',headers:this._token,body:JSON.stringify({avatar:data.avatar})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._address,\"/cards/\").concat(id),{method:'DELETE',headers:this._token}).then(this._checkResponse);}// like(id) {\n//     return fetch(`${this._address}/cards/likes/${id}`, {\n//         method: 'PUT',\n//         headers: this._token,\n//     }).then(this._checkResponse)\n// }\n// dislike(id) {\n//     return fetch(`${this._address}/cards/likes/${id}`, {\n//         method: 'DELETE',\n//         headers: this._token,\n//     }).then(this._checkResponse)\n// }\n},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){return fetch(\"\".concat(this._address,\"/cards/likes/\").concat(id),{method:isLiked?\"DELETE\":\"PUT\",headers:this._token}).then(this._checkResponse);}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-24',headers:{authorization:'4f373d74-bd3f-4a56-8098-6fb64502e0a9','Content-Type':'application/json'}});export default api;","map":{"version":3,"sources":["/Users/victoria/Documents/coding/react-mesto-auth/src/utils/api.js"],"names":["Api","options","_address","baseUrl","_token","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","user","method","body","JSON","stringify","name","about","card","link","data","avatar","id","isLiked","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n    constructor(options) {\n        this._address = options.baseUrl;\n        this._token = options.headers;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`${res.status}`);\n    }\n    getCards() {\n        return fetch(`${this._address}/cards`, {\n            headers: this._token\n        })\n            .then(this._checkResponse) \n    }\n    getUserInfo() {\n        return fetch(`${this._address}/users/me`, {\n            headers: this._token,\n        \n        })\n            .then(this._checkResponse)\n    }\n    changeUserInfo(user) {\n        return fetch(`${this._address}/users/me`,  {\n            method: 'PATCH',\n            headers: this._token,\n            \n            body: JSON.stringify({\n                name: user.name,\n                about: user.about\n            })\n                \n        }).then(this._checkResponse)\n    }\n    addNewCard(card) {\n        return fetch(`${this._address}/cards`, {\n            method: 'POST',\n            headers: this._token,\n\n            body: JSON.stringify({\n                name: card.name,\n                link: card.link\n            })\n\n        }).then(this._checkResponse)\n    }\n    changeProfilePhoto(data) {\n        return fetch(`${this._address}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._token,\n\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n\n        }).then(this._checkResponse)\n    }\n    deleteCard(id) {\n        return fetch(`${this._address}/cards/${id}`, {\n            method: 'DELETE',\n            headers: this._token,\n            \n        }).then(this._checkResponse)\n    }\n    // like(id) {\n    //     return fetch(`${this._address}/cards/likes/${id}`, {\n    //         method: 'PUT',\n    //         headers: this._token,\n\n    //     }).then(this._checkResponse)\n    // }\n    // dislike(id) {\n    //     return fetch(`${this._address}/cards/likes/${id}`, {\n    //         method: 'DELETE',\n    //         headers: this._token,\n\n    //     }).then(this._checkResponse)\n    // }\n    changeLikeCardStatus(id, isLiked) {\n        return fetch(`${this._address}/cards/likes/${id}`, {\n            method: isLiked ? \"DELETE\" : \"PUT\",\n            headers: this._token,\n\n        }).then(this._checkResponse)\n    }\n}\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n    headers: {\n        authorization: '4f373d74-bd3f-4a56-8098-6fb64502e0a9',\n        'Content-Type': 'application/json'\n    }\n})\nexport default api;"]},"metadata":{},"sourceType":"module"}