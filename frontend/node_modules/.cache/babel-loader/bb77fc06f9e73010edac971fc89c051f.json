{"ast":null,"code":"export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction checkResponse(res) {\n  if (res.status === 200) {\n    return res.json();\n  }\n\n  return Promise.reject(`${res.status}`);\n}\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(response => {\n    checkResponse(response);\n  }).then(res => {\n    return res;\n  });\n};\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(response => checkResponse(response)).then(data => {\n    console.log(data);\n    localStorage.setItem('token', data.token);\n    return data;\n  });\n};\nexport const getContent = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('token')}`\n    }\n  }).then(res => checkResponse(res)).then(data => data);\n};","map":{"version":3,"sources":["/Users/victoria/Documents/coding/react-mesto-auth/src/utils/Auth.js"],"names":["BASE_URL","checkResponse","res","status","json","Promise","reject","register","password","email","fetch","method","headers","body","JSON","stringify","then","response","authorize","data","console","log","localStorage","setItem","token","getContent","getItem"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,+BAAjB;;AAEP,SAASC,aAAT,CAAuBC,GAAvB,EAA4B;AACxB,MAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,WAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAgB,GAAEJ,GAAG,CAACC,MAAO,EAA7B,CAAP;AACH;;AAED,OAAO,MAAMI,QAAQ,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACzC,SAAOC,KAAK,CAAE,GAAEV,QAAS,SAAb,EAAuB;AAC/BW,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFsB;AAM/BC,IAAAA,IAAI,EACAC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAf;AAP2B,GAAvB,CAAL,CASFO,IATE,CASIC,QAAD,IAAc;AAChBhB,IAAAA,aAAa,CAACgB,QAAD,CAAb;AACH,GAXE,EAYFD,IAZE,CAYId,GAAD,IAAS;AACX,WAAOA,GAAP;AACH,GAdE,CAAP;AAeH,CAhBM;AAkBP,OAAO,MAAMgB,SAAS,GAAG,CAACV,QAAD,EAAWC,KAAX,KAAqB;AAC1C,SAAOC,KAAK,CAAE,GAAEV,QAAS,SAAb,EAAuB;AAC/BW,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAFsB;AAK/BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAf;AALyB,GAAvB,CAAL,CAOFO,IAPE,CAOIC,QAAQ,IAAIhB,aAAa,CAACgB,QAAD,CAP7B,EAQFD,IARE,CAQIG,IAAD,IAAU;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,KAAnC;AACA,WAAOL,IAAP;AACH,GAZE,CAAP;AAaH,CAdM;AAgBP,OAAO,MAAMM,UAAU,GAAG,MAAM;AAC5B,SAAOf,KAAK,CAAE,GAAEV,QAAS,WAAb,EAAyB;AACjCW,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,uBAAkB,UAASU,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA8B;AAFpD;AAFwB,GAAzB,CAAL,CAOFV,IAPE,CAOGd,GAAG,IAAID,aAAa,CAACC,GAAD,CAPvB,EAQFc,IARE,CAQGG,IAAI,IAAIA,IARX,CAAP;AASH,CAVM","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction checkResponse(res) {\n    if (res.status === 200) {\n        return res.json();\n    }\n    return Promise.reject(`${res.status}`);\n}\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body:\n            JSON.stringify({ password, email })\n    })\n        .then((response) => {\n            checkResponse(response);\n        })\n        .then((res) => {\n            return res;\n        })\n};\n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ password, email })\n    })\n        .then((response => checkResponse(response)))\n        .then((data) => {\n            console.log(data)\n            localStorage.setItem('token', data.token);\n            return data;\n        })\n};\n\nexport const getContent = () => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        }\n    })\n        .then(res => checkResponse(res))\n        .then(data => data)\n} "]},"metadata":{},"sourceType":"module"}